<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>stewrobot</title>
    <meta name="description" content="Board-first AI product studio by stewrobot." />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600;700&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body>
    <header class="topbar">
      <div class="container row">
        <a class="brand" href="#" aria-label="Go to top" id="brandTopLink">
          <span class="brand-mark">â™¾ï¸</span>
          <span class="brand-word">stewrobot</span>
        </a>
        <div class="top-actions">
          <nav class="main-nav" id="mainNav">
            <a href="#" class="nav-link active" data-view="overview" data-i18n="nav_about">Overview</a>
            <a href="#" class="nav-link" data-view="progress" data-i18n="nav_status">Progress</a>
            <a href="#" class="nav-link" data-view="labs" data-i18n="nav_labs">Labs</a>
            <a href="#" class="nav-link" data-view="deploy" data-i18n="nav_deploy">Deploy</a>
            <a href="#" class="nav-link community-link" data-view="community" data-i18n="nav_contact">Community</a>
          </nav>

          <div class="theme-switch" aria-label="Theme switcher">
            <button class="theme-toggle" id="themeToggle" aria-haspopup="true" aria-expanded="false" aria-controls="themeMenu">ğŸ¨ Theme</button>
            <div class="theme-menu" id="themeMenu" role="menu" aria-hidden="true">
              <button class="theme-btn active" data-theme="cosmic" role="menuitem">Cosmic</button>
              <button class="theme-btn" data-theme="atelier" role="menuitem">Atelier</button>
            </div>
          </div>

          <div class="lang-switch" aria-label="Language switcher">
            <button class="lang-toggle" id="langToggle" aria-haspopup="true" aria-expanded="false" aria-controls="langMenu">ğŸŒ</button>
            <div class="lang-menu" id="langMenu" role="menu" aria-hidden="true">
              <button class="lang-btn active" data-lang="en" role="menuitem">English <span class="lang-state full" data-i18n="lang_full">full</span></button>
              <button class="lang-btn" data-lang="hi" role="menuitem">à¤¹à¤¿à¤¨à¥à¤¦à¥€ <span class="lang-state" data-i18n="lang_partial">partial</span></button>
              <button class="lang-btn" data-lang="es" role="menuitem">EspaÃ±ol <span class="lang-state" data-i18n="lang_partial">partial</span></button>
              <button class="lang-btn" data-lang="ar" role="menuitem">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© <span class="lang-state" data-i18n="lang_partial">partial</span></button>
              <button class="lang-btn" data-lang="pt-BR" role="menuitem">PortuguÃªs (BR) <span class="lang-state" data-i18n="lang_partial">partial</span></button>
              <button class="lang-btn" data-lang="id" role="menuitem">Bahasa Indonesia <span class="lang-state" data-i18n="lang_partial">partial</span></button>
              <button class="lang-btn" data-lang="fr" role="menuitem">FranÃ§ais <span class="lang-state" data-i18n="lang_partial">partial</span></button>
              <button class="lang-btn" data-lang="de" role="menuitem">Deutsch <span class="lang-state" data-i18n="lang_partial">partial</span></button>
              <button class="lang-btn" data-lang="ja" role="menuitem">æ—¥æœ¬èª <span class="lang-state" data-i18n="lang_partial">partial</span></button>
              <button class="lang-btn" data-lang="ko" role="menuitem">í•œêµ­ì–´ <span class="lang-state" data-i18n="lang_partial">partial</span></button>
            </div>
          </div>
        </div>
      </div>
    </header>

    <main>
      <section id="top" class="hero container home-section">
        <p class="eyebrow" data-i18n="eyebrow">â™¾ï¸ Cosmic AI Builder</p>
        <h1 data-i18n="hero_title">Board-first launch in motion.</h1>
        <p class="lead" data-i18n="hero_lead">
          stewrobot is building practical AI products with a community board at the center: faster feedback loops, faster shipping.
        </p>
        <div class="cta-row">
          <a class="btn primary" href="https://github.com/stewrobot" target="_blank" rel="noreferrer" data-i18n="cta_github">GitHub</a>
          <a class="btn" href="https://board.stewrobot.com" rel="noreferrer" data-i18n="cta_liveboard">Live board â†—</a>
          <a class="btn" href="https://x.com/stewrobot" target="_blank" rel="noreferrer">X</a>
          <a class="btn" href="https://instagram.com/stewrobot" target="_blank" rel="noreferrer">Instagram</a>
        </div>
      </section>

      <section id="about" class="container section home-section">
        <h2 data-i18n="about_title">Overview</h2>
        <p data-i18n="about_text">
          stewrobot builds practical AI products that move from concept to real usage with unusual speed.
        </p>
        <p data-i18n="about_text_2">
          We focus on product clarity first: clear problem framing, fast prototypes, and tight feedback loops with real users through the community board.
          The goal is not to ship demosâ€”it is to ship tools people return to.
        </p>
        <p data-i18n="about_text_3">
          Current scope spans web platform architecture, mobile-ready product foundations, and autonomous workflow systems.
          Every release is treated like an operating system update: measurable, iterative, and publicly trackable through progress logs.
        </p>
      </section>

      <section id="status" class="container section home-section">
        <h2 data-i18n="status_title">Progress</h2>
        <div class="cards">
          <article class="card status done">
            <h3 data-i18n="status_1_title">âœ… Domain & Pages</h3>
            <p data-i18n="status_1_text">stewrobot.com is live and connected to GitHub Pages.</p>
          </article>
          <article class="card status done">
            <h3 data-i18n="status_2_title">âœ… Board Server Repo</h3>
            <p data-i18n="status_2_text">Node.js board backend pushed with API, comments, password protection, and docs.</p>
          </article>
          <article class="card status done">
            <h3 data-i18n="status_3_title">âœ… Live Board Deploy</h3>
            <p data-i18n="status_3_text">HTTPS is enabled and board service is now reachable at board.stewrobot.com.</p>
          </article>
        </div>

        <div class="progress-log">
          <h3 data-i18n="progress_log_title">Recent milestones (latest first)</h3>
          <ul>
            <li><strong>2026-02-17</strong> â€” <span data-i18n="milestone_1">Live board HTTPS activation + custom domain routing stabilized.</span></li>
            <li><strong>2026-02-17</strong> â€” <span data-i18n="milestone_2">Community workspace mode added (in-page board control tabs).</span></li>
            <li><strong>2026-02-16</strong> â€” <span data-i18n="milestone_3">Board CRUD, comments, password protection, and IP capture completed.</span></li>
            <li><strong>2026-02-16</strong> â€” <span data-i18n="milestone_4">Monorepo structure launched for web, mobile, backend, and shared packages.</span></li>
            <li><strong>2026-02-16</strong> â€” <span data-i18n="milestone_5">Organization + social branding + domain pipeline established.</span></li>
          </ul>
        </div>
      </section>

      <section id="board" class="container section page-section" data-page="community">
        <div class="community-shell">
          <div class="community-header">
            <h2 data-i18n="board_title">ğŸ“‹ Community Board</h2>
            <a class="api-link" href="https://board.stewrobot.com/api-docs" rel="noreferrer" data-i18n="board_api_link">API docs</a>
          </div>

          <div class="community-toolbar">
            <p class="community-count"><span data-i18n="board_total_label">Total</span> <strong id="communityCount">0</strong></p>
            <div class="community-actions">
              <button class="btn write-btn" id="communityWriteBtn" type="button" data-i18n="board_tab_write">âœï¸ Write</button>
            </div>
          </div>

          <section class="community-panel hidden" id="communityWritePanel">
            <h3 data-i18n="write_title">âœï¸ Write a post</h3>
            <form id="communityWriteForm" class="community-form">
              <div class="form-grid">
                <div>
                  <label data-i18n="field_author">Author</label>
                  <input name="author" required maxlength="100" placeholder="author" />
                </div>
                <div>
                  <label data-i18n="field_password">Password</label>
                  <input name="password" type="password" required minlength="4" placeholder="min 4 chars" />
                </div>
              </div>
              <div>
                <label data-i18n="field_title">Title</label>
                <input name="title" required maxlength="255" placeholder="title" />
              </div>
              <div>
                <label data-i18n="field_content">Content</label>
                <textarea name="content" rows="7" required placeholder="write your message"></textarea>
              </div>
              <div class="panel-actions">
                <button class="btn primary" type="submit" data-i18n="write_submit">Post</button>
                <button class="btn" type="button" id="communityWriteCancel" data-i18n="write_cancel">Cancel</button>
              </div>
            </form>
          </section>

          <section class="community-panel hidden" id="communityDetailPanel">
            <h3 id="communityDetailTitle">Post detail</h3>
            <p class="muted small" id="communityDetailMeta"></p>
            <p id="communityDetailContent"></p>
            <hr class="sep" />
            <h4 data-i18n="comments_title">Comments</h4>
            <div id="communityDetailComments" class="comment-mini-list"></div>
            <div class="panel-actions">
              <button class="btn" type="button" id="communityBackToList" data-i18n="back_to_list">Back to list</button>
            </div>
          </section>

          <div class="board-table-wrap" id="communityListWrap">
            <table class="board-table">
              <thead>
                <tr>
                  <th style="width:80px" data-i18n="board_col_id">No.</th>
                  <th data-i18n="board_col_title">Title</th>
                  <th style="width:140px" data-i18n="board_col_author">Author</th>
                  <th style="width:210px" data-i18n="board_col_created">Created</th>
                  <th style="width:90px" data-i18n="board_col_comments">Comments</th>
                </tr>
              </thead>
              <tbody id="communityPostsBody">
                <tr><td colspan="5" data-i18n="board_loading">Loading posts...</td></tr>
              </tbody>
            </table>
          </div>
        </div>
      </section>


      <section id="labs" class="container section home-section">
        <h2 data-i18n="labs_title">Labs</h2>
        <p data-i18n="labs_intro">Experimental products, automation tools, and side builds that may evolve into full services.</p>
        <div class="cards">
          <article class="card">
            <h3 data-i18n="labs_1_title">Community Board Engine</h3>
            <p data-i18n="labs_1_text">Live service for discussions, lightweight moderation, and rapid product feedback loops.</p>
            <p class="small muted" data-i18n="labs_1_meta">status: live Â· type: platform</p>
          </article>
          <article class="card">
            <h3 data-i18n="labs_2_title">Agent Workflow Runner</h3>
            <p data-i18n="labs_2_text">Task automation patterns for assistant-driven operations and repeatable execution flows.</p>
            <p class="small muted" data-i18n="labs_2_meta">status: in progress Â· type: solution</p>
          </article>
          <article class="card">
            <h3 data-i18n="labs_3_title">Mobile Companion Experiments</h3>
            <p data-i18n="labs_3_text">Early product concepts for mobile-first utility experiences connected to the stewrobot ecosystem.</p>
            <p class="small muted" data-i18n="labs_3_meta">status: planned Â· type: app</p>
          </article>
        </div>
      </section>

      <section id="deploy" class="container section home-section">
        <h2 data-i18n="deploy_title">Deploy</h2>
        <p class="deploy-intro" data-i18n="deploy_intro">Deployment checklist and operations baseline for reliable service delivery.</p>
        <ul class="checklist">
          <li data-i18n-html="deploy_1">Install MySQL + PM2 + Nginx on production server</li>
          <li data-i18n-html="deploy_2">Apply <code>sql/schema.sql</code> to MySQL database</li>
          <li data-i18n-html="deploy_3">Set <code>.env</code> with production DB values and <code>USE_IN_MEMORY=false</code></li>
          <li data-i18n-html="deploy_4">Run app on port 3000 via PM2 (<code>ecosystem.config.cjs</code>)</li>
          <li data-i18n-html="deploy_5">Reverse proxy <code>board.stewrobot.com</code> â†’ <code>127.0.0.1:3000</code></li>
          <li data-i18n-html="deploy_6">Enable HTTPS certificate and verify CRUD + API docs</li>
          <li data-i18n-html="deploy_7">Set daily DB backup + 14-day retention and monthly restore drill</li>
          <li data-i18n-html="deploy_8">Monitor uptime, error logs, and certificate renewal status</li>
        </ul>

        <div class="ops-visual">
          <h3 data-i18n="ops_title">Service map</h3>
          <p class="ops-note" data-i18n="ops_note">This map shows how the public website, live board, and data layer connect in production.</p>
          <div class="flow">
            <div>stewrobot.com<br /><span>GitHub Pages</span></div>
            <div>board.stewrobot.com<br /><span>Nginx + Node</span></div>
            <div>MySQL<br /><span>Posts / Comments</span></div>
          </div>
        </div>
      </section>

      
    </main>

    <footer class="footer">
      <div class="container">
        <p><span data-i18n="footer_prefix">Â©</span> <span id="y"></span> stewrobot. <span data-i18n="footer_suffix">All rights reserved.</span></p>
      </div>
    </footer>

    <script>
      document.getElementById('y').textContent = new Date().getFullYear();

      const i18n = {
        ko: {
          nav_about: 'ê°œìš”', nav_status: 'ì§„í–‰ìƒí™©', nav_board: 'ë³´ë“œ', nav_contact: 'ì»¤ë®¤ë‹ˆí‹°', nav_labs: 'ë©ìŠ¤', nav_deploy: 'ë°°í¬',
          lang_full: 'ì™„ë£Œ', lang_partial: 'ë¶€ë¶„',
          eyebrow: 'â™¾ï¸ ì½”ìŠ¤ë¯¹ AI ë¹Œë”',
          hero_title: 'ë³´ë“œ ì¤‘ì‹¬ ëŸ°ì¹­, ì§„í–‰ ì¤‘.',
          hero_lead: 'stewrobotì€ ì»¤ë®¤ë‹ˆí‹° ë³´ë“œë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ ì‹¤ìš©ì ì¸ AI ì œí’ˆì„ ë§Œë“­ë‹ˆë‹¤. ë” ë¹ ë¥¸ í”¼ë“œë°±, ë” ë¹ ë¥¸ ì¶œì‹œ.',
          cta_github: 'GitHub', cta_liveboard: 'ë¼ì´ë¸Œ ë³´ë“œ â†—',
          about_title: 'ê°œìš”',
          about_text: 'stewrobotì€ ì•„ì´ë””ì–´ë¥¼ ë¹ ë¥´ê²Œ ì‹¤ì‚¬ìš© ì œí’ˆìœ¼ë¡œ ì „í™˜í•˜ëŠ” ì‹¤ìš©ì  AI ì œí’ˆì„ ë§Œë“­ë‹ˆë‹¤.',
          about_text_2: 'í•µì‹¬ì€ ë¬¸ì œì •ì˜ì˜ ëª…í™•ì„±, ë¹ ë¥¸ í”„ë¡œí† íƒ€ì…, ê·¸ë¦¬ê³  ì»¤ë®¤ë‹ˆí‹° ë³´ë“œ ê¸°ë°˜ í”¼ë“œë°± ë£¨í”„ì…ë‹ˆë‹¤. ë°ëª¨ê°€ ì•„ë‹ˆë¼ ë°˜ë³µ ì‚¬ìš©ë˜ëŠ” ë„êµ¬ë¥¼ ëª©í‘œë¡œ í•©ë‹ˆë‹¤.',
          about_text_3: 'í˜„ì¬ ë²”ìœ„ëŠ” ì›¹ í”Œë«í¼ êµ¬ì¡°, ëª¨ë°”ì¼ í™•ì¥ ê¸°ë°˜, ììœ¨ ì›Œí¬í”Œë¡œìš° ì‹œìŠ¤í…œì…ë‹ˆë‹¤. ëª¨ë“  ë¦´ë¦¬ìŠ¤ëŠ” ì¸¡ì • ê°€ëŠ¥í•˜ê³  ê³µê°œì ìœ¼ë¡œ ì¶”ì ë˜ëŠ” ì—…ë°ì´íŠ¸ë¡œ ìš´ì˜í•©ë‹ˆë‹¤.',
          status_title: 'ì§„í–‰ìƒí™©',
          status_1_title: 'âœ… ë„ë©”ì¸ & í˜ì´ì§€', status_1_text: 'stewrobot.comì´ GitHub Pagesì™€ ì—°ê²°ë˜ì–´ ë¼ì´ë¸Œ ìƒíƒœì…ë‹ˆë‹¤.',
          status_2_title: 'âœ… ë³´ë“œ ì„œë²„ ë ˆí¬', status_2_text: 'Node.js ë³´ë“œ ë°±ì—”ë“œ(API/ëŒ“ê¸€/ë¹„ë°€ë²ˆí˜¸ ë³´í˜¸/ë¬¸ì„œ) í‘¸ì‹œ ì™„ë£Œ.',
          status_3_title: 'âœ… ë¼ì´ë¸Œ ë³´ë“œ ë°°í¬', status_3_text: 'HTTPS í™œì„±í™” ì™„ë£Œ, board.stewrobot.com ì ‘ì† ê°€ëŠ¥.',
          live_label: 'ë¼ì´ë¸Œ ë³´ë“œ URL', live_chip: 'ì˜¨ë¼ì¸', live_hint: 'ì»¤ë®¤ë‹ˆí‹° ë³´ë“œëŠ” HTTPSë¡œ ìš´ì˜ ì¤‘ì…ë‹ˆë‹¤.',
          board_title: 'ğŸ“‹ ì»¤ë®¤ë‹ˆí‹° ê²Œì‹œíŒ', board_api_link: 'API ë¬¸ì„œ ë³´ê¸°', board_open_full: 'ì»¤ë®¤ë‹ˆí‹° ë³´ë“œ ì—´ê¸° â†—',
          board_note: 'ì•„ë˜ì—ëŠ” ë¼ì´ë¸Œ ì»¤ë®¤ë‹ˆí‹° ê²Œì‹œíŒì˜ ìµœì‹  ê¸€ì´ ì¼ë°˜ì ì¸ ê²Œì‹œíŒ í˜•ì‹ìœ¼ë¡œ í‘œì‹œë©ë‹ˆë‹¤.',
          board_tab_home: 'ë³´ë“œ í™ˆ', board_tab_write: 'âœï¸ ê¸€ì“°ê¸°', board_tab_docs: 'API ë¬¸ì„œ', board_total_label: 'ì „ì²´', board_col_id: 'ë²ˆí˜¸', board_col_title: 'ì œëª©', board_col_author: 'ì‘ì„±ì', board_col_created: 'ì‘ì„±ì¼', board_col_comments: 'ëŒ“ê¸€', board_loading: 'ê²Œì‹œê¸€ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...', board_empty: 'ê²Œì‹œê¸€ì´ ì—†ìŠµë‹ˆë‹¤.', back_to_list: 'ëª©ë¡ìœ¼ë¡œ', comments_title: 'ëŒ“ê¸€', write_cancel: 'ì·¨ì†Œ', write_submit: 'ë“±ë¡', field_content: 'ë‚´ìš©', field_title: 'ì œëª©', field_password: 'ë¹„ë°€ë²ˆí˜¸', field_author: 'ì‘ì„±ì', write_title: 'âœï¸ ê¸€ì“°ê¸°',
          post1_title: '[ê³µì§€] stewrobot ë¡œë“œë§µ v0.1', post1_body: 'ëª¨ë°”ì¼ ë² íƒ€ ì¼ì •ê³¼ ì›¹ ê¸°ëŠ¥ ìš°ì„ ìˆœìœ„ë¥¼ ê³µìœ í•©ë‹ˆë‹¤. ëŒ“ê¸€ë¡œ í”¼ë“œë°± ë‚¨ê²¨ì£¼ì„¸ìš”.', post1_meta: 'admin Â· 22:31 Â· ëŒ“ê¸€ 4',
          post2_title: 'ì²« ì‚¬ìš©ì í…ŒìŠ¤íŠ¸ ì°¸ì—¬ì ëª¨ì§‘', post2_body: 'iOS/Android í´ë¡œì¦ˆë“œ ë² íƒ€ ì˜ˆì •. ì°¸ì—¬ í¬ë§ìëŠ” ë³´ë“œì—ì„œ ì•Œë ¤ì£¼ì„¸ìš”.', post2_meta: 'team Â· 21:52 Â· ëŒ“ê¸€ 2',
          post3_title: 'Q&A: ë„ë©”ì¸ + HTTPS íƒ€ì„ë¼ì¸', post3_body: 'DNS ì „íŒŒ/ì¸ì¦ì„œ ë°œê¸‰ ì‹œê°„ì„ ì •ë¦¬í–ˆìŠµë‹ˆë‹¤. ë§‰íˆëŠ” ì§€ì ì´ ìˆìœ¼ë©´ ì§ˆë¬¸ ì£¼ì„¸ìš”.', post3_meta: 'stewrobot Â· 20:07 Â· ëŒ“ê¸€ 7',
          side_write_title: 'ê¸€ ì‘ì„±', side_write_text: 'ì‹¤ì œ ê¸€ì“°ê¸°ëŠ” ë¼ì´ë¸Œ ë³´ë“œì—ì„œ ê°€ëŠ¥í•©ë‹ˆë‹¤.', side_write_btn: 'ìƒˆ ê¸€',
          side_tags_title: 'ì¸ê¸° íƒœê·¸', tag1: '#ê³µì§€', tag2: '#ê°œë°œë¡œê·¸', tag3: '#QnA', tag4: '#í”¼ë“œë°±',
          deploy_title: 'ë°°í¬',
          deploy_intro: 'ì•ˆì •ì ì¸ ì„œë¹„ìŠ¤ ìš´ì˜ì„ ìœ„í•œ ë°°í¬ ì²´í¬ë¦¬ìŠ¤íŠ¸ì™€ ìš´ì˜ ê¸°ì¤€ì…ë‹ˆë‹¤.',
          deploy_1: 'ìš´ì˜ ì„œë²„ì— MySQL + PM2 + Nginx ì„¤ì¹˜',
          deploy_2: 'MySQLì— <code>sql/schema.sql</code> ì ìš©',
          deploy_3: 'ìš´ì˜ DB ê°’ìœ¼ë¡œ <code>.env</code> ì„¤ì •, <code>USE_IN_MEMORY=false</code> í™•ì¸',
          deploy_4: 'PM2ë¡œ 3000 í¬íŠ¸ ì‹¤í–‰ (<code>ecosystem.config.cjs</code>)',
          deploy_5: '<code>board.stewrobot.com</code> â†’ <code>127.0.0.1:3000</code> ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ',
          deploy_6: 'HTTPS ì¸ì¦ì„œ ì ìš© í›„ CRUD + API docs ê²€ì¦',
          community_title: 'ì»¤ë®¤ë‹ˆí‹°', community_text: 'ê³µì‹ ì†Œí†µì€ ë¼ì´ë¸Œ ë³´ë“œì—ì„œ ì§„í–‰ë©ë‹ˆë‹¤.', community_link: 'board.stewrobot.com ë°”ë¡œê°€ê¸° â†—',
          footer_prefix: 'Â©', footer_suffix: 'All rights reserved.'
        },
        en: {
          nav_about: 'Overview', nav_status: 'Progress', nav_board: 'Board', nav_contact: 'Community', nav_labs: 'Labs', nav_deploy: 'Deploy',
          lang_full: 'full', lang_partial: 'partial',
          eyebrow: 'â™¾ï¸ Cosmic AI Builder',
          hero_title: 'Board-first launch in motion.',
          hero_lead: 'stewrobot is building practical AI products with a community board at the center: faster feedback loops, faster shipping.',
          cta_github: 'GitHub', cta_liveboard: 'Live board â†—',
          about_title: 'Overview',
          about_text: 'stewrobot builds practical AI products that move from concept to real usage with unusual speed.',
          about_text_2: 'We focus on product clarity first: clear problem framing, fast prototypes, and tight feedback loops with real users through the community board. The goal is not to ship demosâ€”it is to ship tools people return to.',
          about_text_3: 'Current scope spans web platform architecture, mobile-ready product foundations, and autonomous workflow systems. Every release is treated like an operating system update: measurable, iterative, and publicly trackable through progress logs.',
          status_title: 'Progress',
          status_1_title: 'âœ… Domain & Pages', status_1_text: 'stewrobot.com is live and connected to GitHub Pages.',
          status_2_title: 'âœ… Board Server Repo', status_2_text: 'Node.js board backend pushed with API, comments, password protection, and docs.',
          status_3_title: 'âœ… Live Board Deploy', status_3_text: 'HTTPS is enabled and board service is now reachable at board.stewrobot.com.',
          progress_log_title: 'Recent milestones (latest first)',
          milestone_1: 'Live board HTTPS activation + custom domain routing stabilized.',
          milestone_2: 'Community workspace mode added (in-page board control tabs).',
          milestone_3: 'Board CRUD, comments, password protection, and IP capture completed.',
          milestone_4: 'Monorepo structure launched for web, mobile, backend, and shared packages.',
          milestone_5: 'Organization + social branding + domain pipeline established.',
          labs_title: 'ë©ìŠ¤',
          labs_intro: 'ì•±, ì†”ë£¨ì…˜, ìë™í™” ì‹¤í—˜ ë“± í–¥í›„ ì„œë¹„ìŠ¤ë¡œ ë°œì „í•  ìˆ˜ ìˆëŠ” í”„ë¡œì íŠ¸ ê³µê°„ì…ë‹ˆë‹¤.',
          labs_1_title: 'ì»¤ë®¤ë‹ˆí‹° ë³´ë“œ ì—”ì§„', labs_1_text: 'í† ë¡ /í”¼ë“œë°± ë£¨í”„ë¥¼ ìœ„í•œ ë¼ì´ë¸Œ ì„œë¹„ìŠ¤.', labs_1_meta: 'status: live Â· type: platform',
          labs_2_title: 'ì—ì´ì „íŠ¸ ì›Œí¬í”Œë¡œìš° ëŸ¬ë„ˆ', labs_2_text: 'ë°˜ë³µ ê°€ëŠ¥í•œ ìë™í™” ì‹¤í–‰ íë¦„ ì‹¤í—˜.', labs_2_meta: 'status: in progress Â· type: solution',
          labs_3_title: 'ëª¨ë°”ì¼ ì»´íŒ¨ë‹ˆì–¸ ì‹¤í—˜', labs_3_text: 'ìƒíƒœê³„ ì—°ë™ ëª¨ë°”ì¼ ìœ í‹¸ë¦¬í‹° ì»¨ì…‰.', labs_3_meta: 'status: planned Â· type: app',
          labs_title: 'Labs',
          labs_intro: 'Experimental products, automation tools, and side builds that may evolve into full services.',
          labs_1_title: 'Community Board Engine',
          labs_1_text: 'Live service for discussions, lightweight moderation, and rapid product feedback loops.',
          labs_1_meta: 'status: live Â· type: platform',
          labs_2_title: 'Agent Workflow Runner',
          labs_2_text: 'Task automation patterns for assistant-driven operations and repeatable execution flows.',
          labs_2_meta: 'status: in progress Â· type: solution',
          labs_3_title: 'Mobile Companion Experiments',
          labs_3_text: 'Early product concepts for mobile-first utility experiences connected to the stewrobot ecosystem.',
          labs_3_meta: 'status: planned Â· type: app',

          live_label: 'Live board URL', live_chip: 'online', live_hint: 'Community board is now live with HTTPS.',
          board_title: 'ğŸ“‹ Community Board', board_api_link: 'API docs', board_open_full: 'Open community board â†—',
          board_note: 'A conventional board-style view is shown below with live posts from the community service.',
          board_tab_home: 'Board Home', board_tab_write: 'âœï¸ Write', board_tab_docs: 'API Docs', board_total_label: 'Total', board_col_id: 'No.', board_col_title: 'Title', board_col_author: 'Author', board_col_created: 'Created', board_col_comments: 'Comments', board_loading: 'Loading posts...', board_empty: 'No posts yet.', back_to_list: 'Back to list', comments_title: 'Comments', write_cancel: 'Cancel', write_submit: 'Post', field_content: 'Content', field_title: 'Title', field_password: 'Password', field_author: 'Author', write_title: 'âœï¸ Write a post',
          post1_title: '[Notice] stewrobot roadmap v0.1', post1_body: 'Sharing the mobile beta timeline and web feature priorities. Leave feedback in comments.', post1_meta: 'admin Â· 22:31 Â· comments 4',
          post2_title: 'Looking for first user test participants', post2_body: 'Closed beta is planned for iOS and Android. Reach out on the board if you want to join.', post2_meta: 'team Â· 21:52 Â· comments 2',
          post3_title: 'Q&A: Domain + HTTPS timeline', post3_body: 'We summarized DNS propagation and certificate issuance timing. Ask if you hit any blockers.', post3_meta: 'stewrobot Â· 20:07 Â· comments 7',
          side_write_title: 'Write a post', side_write_text: 'Posting is available in the live board.', side_write_btn: 'New Post',
          side_tags_title: 'Popular tags', tag1: '#notice', tag2: '#devlog', tag3: '#QnA', tag4: '#feedback',
          deploy_title: 'Deploy',
          deploy_intro: 'Deployment checklist and operations baseline for reliable service delivery.',
          deploy_1: 'Install MySQL + PM2 + Nginx on production server',
          deploy_2: 'Apply <code>sql/schema.sql</code> to MySQL database',
          deploy_3: 'Set <code>.env</code> with production DB values and <code>USE_IN_MEMORY=false</code>',
          deploy_4: 'Run app on port 3000 via PM2 (<code>ecosystem.config.cjs</code>)',
          deploy_5: 'Reverse proxy <code>board.stewrobot.com</code> â†’ <code>127.0.0.1:3000</code>',
          deploy_6: 'Enable HTTPS certificate and verify CRUD + API docs',
          deploy_7: 'Set daily DB backup + 14-day retention and monthly restore drill',
          deploy_8: 'Monitor uptime, error logs, and certificate renewal status',
          ops_title: 'Service map',
          ops_note: 'This map shows how the public website, live board, and data layer connect in production.',
          community_title: 'Community', community_text: 'Official communication is now handled in the live board.', community_link: 'Go to board.stewrobot.com â†—', embed_help: 'If the embedded board does not load, use â€œOpen Fullâ€ to continue in the same tab.',
          footer_prefix: 'Â©', footer_suffix: 'All rights reserved.'
        },
        ja: {
          nav_about: 'æ¦‚è¦', nav_status: 'é€²æ—', nav_board: 'æ²ç¤ºæ¿', nav_contact: 'ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£', nav_labs: 'ãƒ©ãƒœ', nav_deploy: 'ãƒ‡ãƒ—ãƒ­ã‚¤',
          lang_full: 'å®Œäº†', lang_partial: 'ä¸€éƒ¨',
          eyebrow: 'â™¾ï¸ ã‚³ã‚ºãƒŸãƒƒã‚¯AIãƒ“ãƒ«ãƒ€ãƒ¼',
          hero_title: 'ãƒœãƒ¼ãƒ‰ä¸­å¿ƒã®ãƒ­ãƒ¼ãƒ³ãƒã€é€²è¡Œä¸­ã€‚',
          hero_lead: 'stewrobotã¯ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ãƒœãƒ¼ãƒ‰ã‚’ä¸­å¿ƒã«ã€å®Ÿç”¨çš„ãªAIãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã‚’æ§‹ç¯‰ã—ã¦ã„ã¾ã™ã€‚ã‚ˆã‚Šé€Ÿã„ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã€ã‚ˆã‚Šé€Ÿã„ãƒªãƒªãƒ¼ã‚¹ã€‚',
          cta_github: 'GitHub', cta_liveboard: 'ãƒ©ã‚¤ãƒ–ãƒœãƒ¼ãƒ‰ â†—',
          about_title: 'æ¦‚è¦',
          about_text: 'stewrobotã¯ã€æ§‹æƒ³ã‹ã‚‰å®Ÿé‹ç”¨ã¾ã§ã‚’é«˜é€Ÿã§é€²ã‚ã‚‹å®Ÿç”¨AIãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã‚’æ§‹ç¯‰ã—ã¾ã™ã€‚',
          about_text_2: 'é‡è¦–ã™ã‚‹ã®ã¯èª²é¡Œå®šç¾©ã®æ˜ç¢ºã•ã€ç´ æ—©ã„è©¦ä½œã€ãã—ã¦ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ãƒœãƒ¼ãƒ‰ã‚’ä½¿ã£ãŸé«˜é€Ÿãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã§ã™ã€‚ãƒ‡ãƒ¢ã§ã¯ãªãã€ç¶™ç¶šåˆ©ç”¨ã•ã‚Œã‚‹é“å…·ã‚’ç›®æŒ‡ã—ã¾ã™ã€‚',
          about_text_3: 'ç¾åœ¨ã®å¯¾è±¡ã¯WebåŸºç›¤ã€ãƒ¢ãƒã‚¤ãƒ«å±•é–‹åŸºç›¤ã€ãã—ã¦è‡ªå¾‹ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã§ã™ã€‚ã™ã¹ã¦ã®ãƒªãƒªãƒ¼ã‚¹ã¯æ¸¬å®šå¯èƒ½ã§å…¬é–‹è¿½è·¡å¯èƒ½ãªæ›´æ–°ã¨ã—ã¦é‹ç”¨ã—ã¾ã™ã€‚',
          status_title: 'é€²æ—',
          status_1_title: 'âœ… ãƒ‰ãƒ¡ã‚¤ãƒ³ & Pages', status_1_text: 'stewrobot.com ã¯ GitHub Pages ã§å…¬é–‹ä¸­ã§ã™ã€‚',
          status_2_title: 'âœ… ãƒœãƒ¼ãƒ‰ã‚µãƒ¼ãƒãƒ¼ ãƒªãƒã‚¸ãƒˆãƒª', status_2_text: 'Node.jsãƒœãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰(API/ã‚³ãƒ¡ãƒ³ãƒˆ/ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ä¿è­·/ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ)ã‚’ãƒ—ãƒƒã‚·ãƒ¥æ¸ˆã¿ã€‚',
          status_3_title: 'âœ… ãƒ©ã‚¤ãƒ–ãƒœãƒ¼ãƒ‰é…å‚™', status_3_text: 'HTTPSãŒæœ‰åŠ¹åŒ–ã•ã‚Œã€board.stewrobot.com ã§åˆ©ç”¨å¯èƒ½ã§ã™ã€‚',
          live_label: 'ãƒ©ã‚¤ãƒ–ãƒœãƒ¼ãƒ‰URL', live_chip: 'online', live_hint: 'ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ãƒœãƒ¼ãƒ‰ã¯HTTPSã§ç¨¼åƒä¸­ã§ã™ã€‚',
          board_title: 'ğŸ“‹ ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£æ²ç¤ºæ¿', board_api_link: 'API ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ', board_open_full: 'ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ãƒœãƒ¼ãƒ‰ã‚’é–‹ã â†—',
          board_note: 'ä»¥ä¸‹ã«ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£æ²ç¤ºæ¿ã®æœ€æ–°æŠ•ç¨¿ã‚’ä¸€èˆ¬çš„ãªæ²ç¤ºæ¿ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã§è¡¨ç¤ºã—ã¾ã™ã€‚',
          board_tab_home: 'ãƒœãƒ¼ãƒ‰ãƒ›ãƒ¼ãƒ ', board_tab_write: 'âœï¸ æŠ•ç¨¿', board_tab_docs: 'APIãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ', board_total_label: 'å…¨ä½“', board_col_id: 'ç•ªå·', board_col_title: 'ã‚¿ã‚¤ãƒˆãƒ«', board_col_author: 'ä½œæˆè€…', board_col_created: 'ä½œæˆæ—¥æ™‚', board_col_comments: 'ã‚³ãƒ¡ãƒ³ãƒˆ', board_loading: 'èª­ã¿è¾¼ã¿ä¸­...', board_empty: 'æŠ•ç¨¿ãŒã‚ã‚Šã¾ã›ã‚“ã€‚', back_to_list: 'ä¸€è¦§ã¸', comments_title: 'ã‚³ãƒ¡ãƒ³ãƒˆ', write_cancel: 'ã‚­ãƒ£ãƒ³ã‚»ãƒ«', write_submit: 'ç™»éŒ²', field_content: 'å†…å®¹', field_title: 'ã‚¿ã‚¤ãƒˆãƒ«', field_password: 'ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰', field_author: 'ä½œæˆè€…', write_title: 'âœï¸ æŠ•ç¨¿',
          post1_title: '[ãŠçŸ¥ã‚‰ã›] stewrobot ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ— v0.1', post1_body: 'ãƒ¢ãƒã‚¤ãƒ«ãƒ™ãƒ¼ã‚¿æ—¥ç¨‹ã¨Webæ©Ÿèƒ½ã®å„ªå…ˆé †ä½ã‚’å…±æœ‰ã—ã¾ã™ã€‚ã‚³ãƒ¡ãƒ³ãƒˆã§ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’ãŠé¡˜ã„ã—ã¾ã™ã€‚', post1_meta: 'admin Â· 22:31 Â· ã‚³ãƒ¡ãƒ³ãƒˆ 4',
          post2_title: 'æœ€åˆã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ†ã‚¹ãƒˆå‚åŠ è€…ã‚’å‹Ÿé›†', post2_body: 'iOS/Androidå‘ã‘ã‚¯ãƒ­ãƒ¼ã‚ºãƒ‰ãƒ™ãƒ¼ã‚¿ã‚’äºˆå®šã€‚å‚åŠ å¸Œæœ›ã¯æ²ç¤ºæ¿ã§çŸ¥ã‚‰ã›ã¦ãã ã•ã„ã€‚', post2_meta: 'team Â· 21:52 Â· ã‚³ãƒ¡ãƒ³ãƒˆ 2',
          post3_title: 'Q&A: ãƒ‰ãƒ¡ã‚¤ãƒ³ + HTTPS ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³', post3_body: 'DNSä¼æ’­ã¨è¨¼æ˜æ›¸ç™ºè¡Œã®æ‰€è¦æ™‚é–“ã‚’ã¾ã¨ã‚ã¾ã—ãŸã€‚è©°ã¾ã£ãŸã‚‰è³ªå•ã—ã¦ãã ã•ã„ã€‚', post3_meta: 'stewrobot Â· 20:07 Â· ã‚³ãƒ¡ãƒ³ãƒˆ 7',
          side_write_title: 'æŠ•ç¨¿ã™ã‚‹', side_write_text: 'å®Ÿéš›ã®æŠ•ç¨¿ã¯ãƒ©ã‚¤ãƒ–æ²ç¤ºæ¿ã§å¯èƒ½ã§ã™ã€‚', side_write_btn: 'æ–°è¦æŠ•ç¨¿',
          side_tags_title: 'äººæ°—ã‚¿ã‚°', tag1: '#ãŠçŸ¥ã‚‰ã›', tag2: '#é–‹ç™ºãƒ­ã‚°', tag3: '#QnA', tag4: '#ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯',
          labs_title: 'ãƒ©ãƒœ',
          labs_intro: 'ã‚¢ãƒ—ãƒªã€ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã€è‡ªå‹•åŒ–å®Ÿé¨“ãªã©ã€å°†æ¥ã‚µãƒ¼ãƒ“ã‚¹åŒ–ã§ãã‚‹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆé ˜åŸŸã§ã™ã€‚',
          labs_1_title: 'ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ãƒœãƒ¼ãƒ‰ã‚¨ãƒ³ã‚¸ãƒ³', labs_1_text: 'è­°è«–ã¨ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ãƒ«ãƒ¼ãƒ—ã®ãŸã‚ã®ãƒ©ã‚¤ãƒ–ã‚µãƒ¼ãƒ“ã‚¹ã€‚', labs_1_meta: 'status: live Â· type: platform',
          labs_2_title: 'ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãƒ©ãƒ³ãƒŠãƒ¼', labs_2_text: 'å†ç¾å¯èƒ½ãªè‡ªå‹•åŒ–å®Ÿè¡Œãƒ•ãƒ­ãƒ¼ã®å®Ÿé¨“ã€‚', labs_2_meta: 'status: in progress Â· type: solution',
          labs_3_title: 'ãƒ¢ãƒã‚¤ãƒ«ã‚³ãƒ³ãƒ‘ãƒ‹ã‚ªãƒ³å®Ÿé¨“', labs_3_text: 'ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ é€£æºã®ãƒ¢ãƒã‚¤ãƒ«ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£æ§‹æƒ³ã€‚', labs_3_meta: 'status: planned Â· type: app',
          deploy_title: 'ãƒ‡ãƒ—ãƒ­ã‚¤',
          deploy_intro: 'å®‰å®šé‹ç”¨ã®ãŸã‚ã®ãƒ‡ãƒ—ãƒ­ã‚¤ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆã¨é‹ç”¨åŸºæº–ã§ã™ã€‚',
          deploy_1: 'æœ¬ç•ªã‚µãƒ¼ãƒãƒ¼ã« MySQL + PM2 + Nginx ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«',
          deploy_2: 'MySQL ã« <code>sql/schema.sql</code> ã‚’é©ç”¨',
          deploy_3: 'æœ¬ç•ªDBå€¤ã§ <code>.env</code> ã‚’è¨­å®šã— <code>USE_IN_MEMORY=false</code> ã‚’ç¢ºèª',
          deploy_4: 'PM2ã§3000ãƒãƒ¼ãƒˆå®Ÿè¡Œï¼ˆ<code>ecosystem.config.cjs</code>ï¼‰',
          deploy_5: '<code>board.stewrobot.com</code> â†’ <code>127.0.0.1:3000</code> ãƒªãƒãƒ¼ã‚¹ãƒ—ãƒ­ã‚­ã‚·',
          deploy_6: 'HTTPSè¨¼æ˜æ›¸é©ç”¨å¾Œã€CRUD + API docs ã‚’ç¢ºèª',
          community_title: 'ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£', community_text: 'å…¬å¼ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¯ãƒ©ã‚¤ãƒ–æ²ç¤ºæ¿ã§è¡Œã£ã¦ã„ã¾ã™ã€‚', community_link: 'board.stewrobot.com ã¸ â†—',
          footer_prefix: 'Â©', footer_suffix: 'All rights reserved.'
        },
        es: { nav_about: 'Resumen', nav_status: 'Progreso', nav_board: 'Foro', nav_contact: 'Comunidad', lang_full: 'completo', lang_partial: 'parcial' },
        'pt-BR': { nav_about: 'VisÃ£o geral', nav_status: 'Progresso', nav_board: 'FÃ³rum', nav_contact: 'Comunidade', lang_full: 'completo', lang_partial: 'parcial' },
        hi: { nav_about: 'à¤…à¤µà¤²à¥‹à¤•à¤¨', nav_status: 'à¤ªà¥à¤°à¤—à¤¤à¤¿', nav_board: 'à¤¬à¥‹à¤°à¥à¤¡', nav_contact: 'à¤¸à¤®à¥à¤¦à¤¾à¤¯', lang_full: 'à¤ªà¥‚à¤°à¥à¤£', lang_partial: 'à¤†à¤‚à¤¶à¤¿à¤•' },
        ar: { nav_about: 'Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©', nav_status: 'Ø§Ù„ØªÙ‚Ø¯Ù…', nav_board: 'Ø§Ù„Ù„ÙˆØ­Ø©', nav_contact: 'Ø§Ù„Ù…Ø¬ØªÙ…Ø¹', lang_full: 'ÙƒØ§Ù…Ù„', lang_partial: 'Ø¬Ø²Ø¦ÙŠ' },
        fr: { nav_about: 'AperÃ§u', nav_status: 'Progression', nav_board: 'Forum', nav_contact: 'CommunautÃ©', lang_full: 'complet', lang_partial: 'partiel' },
        de: { nav_about: 'Ãœberblick', nav_status: 'Fortschritt', nav_board: 'Board', nav_contact: 'Community', lang_full: 'voll', lang_partial: 'teilweise' },
        id: { nav_about: 'Ringkasan', nav_status: 'Progres', nav_board: 'Board', nav_contact: 'Komunitas', lang_full: 'penuh', lang_partial: 'parsial' }
      };

      const langToggle = document.getElementById('langToggle');
      const langMenu = document.getElementById('langMenu');
      const themeToggle = document.getElementById('themeToggle');
      const themeMenu = document.getElementById('themeMenu');

      function closeLangMenu() {
        langMenu.classList.remove('open');
        langToggle.setAttribute('aria-expanded', 'false');
        langMenu.setAttribute('aria-hidden', 'true');
      }

      function openLangMenu() {
        langMenu.classList.add('open');
        langToggle.setAttribute('aria-expanded', 'true');
        langMenu.setAttribute('aria-hidden', 'false');
      }

      function closeThemeMenu() {
        themeMenu.classList.remove('open');
        themeToggle.setAttribute('aria-expanded', 'false');
        themeMenu.setAttribute('aria-hidden', 'true');
      }

      function openThemeMenu() {
        themeMenu.classList.add('open');
        themeToggle.setAttribute('aria-expanded', 'true');
        themeMenu.setAttribute('aria-hidden', 'false');
      }

      function applyTheme(theme) {
        document.body.setAttribute('data-theme', theme);
        document.querySelectorAll('.theme-btn').forEach((b) => b.classList.toggle('active', b.dataset.theme === theme));
        localStorage.setItem('stewrobot_theme', theme);
      }

      function applyLang(lang) {
        document.documentElement.lang = lang;

        document.querySelectorAll('[data-i18n]').forEach((el) => {
          const key = el.getAttribute('data-i18n');
          const val = (i18n[lang] && i18n[lang][key]) || (i18n.en && i18n.en[key]);
          if (val) el.textContent = val;
        });

        document.querySelectorAll('[data-i18n-html]').forEach((el) => {
          const key = el.getAttribute('data-i18n-html');
          const val = (i18n[lang] && i18n[lang][key]) || (i18n.en && i18n.en[key]);
          if (val) el.innerHTML = val;
        });

        document.querySelectorAll('.lang-btn').forEach((b) => b.classList.toggle('active', b.dataset.lang === lang));
        localStorage.setItem('stewrobot_lang', lang);
        loadCommunityPosts();
      }

      langToggle.addEventListener('click', () => {
        if (langMenu.classList.contains('open')) closeLangMenu();
        else {
          closeThemeMenu();
          openLangMenu();
        }
      });

      themeToggle.addEventListener('click', () => {
        if (themeMenu.classList.contains('open')) closeThemeMenu();
        else {
          closeLangMenu();
          openThemeMenu();
        }
      });

      document.addEventListener('click', (e) => {
        if (!e.target.closest('.lang-switch')) closeLangMenu();
        if (!e.target.closest('.theme-switch')) closeThemeMenu();
      });

      document.querySelectorAll('.lang-btn').forEach((btn) => {
        btn.addEventListener('click', () => {
          applyLang(btn.dataset.lang);
          // keep the language layer open so users can try multiple languages quickly
        });
      });

      document.querySelectorAll('.theme-btn').forEach((btn) => {
        btn.addEventListener('click', () => {
          applyTheme(btn.dataset.theme);
          closeThemeMenu();
        });
      });
function setMainView(viewName) {
        const homeMode = viewName === 'overview' || viewName === 'progress' || viewName === 'labs' || viewName === 'deploy';

        document.querySelectorAll('.home-section').forEach((el) => {
          el.style.display = homeMode ? '' : 'none';
        });

        document.querySelectorAll('.page-section').forEach((el) => {
          const show = (viewName === 'community' && el.dataset.page === 'community');
          el.style.display = show ? 'block' : 'none';
        });

        document.querySelectorAll('.main-nav .nav-link').forEach((el) => {
          el.classList.toggle('active', el.dataset.view === viewName);
        });

        if (viewName === 'overview') {
          document.getElementById('about')?.scrollIntoView({ behavior: 'smooth', block: 'start' });
        } else if (viewName === 'progress') {
          document.getElementById('status')?.scrollIntoView({ behavior: 'smooth', block: 'start' });
        } else if (viewName === 'labs') {
          document.getElementById('labs')?.scrollIntoView({ behavior: 'smooth', block: 'start' });
        } else if (viewName === 'deploy') {
          document.getElementById('deploy')?.scrollIntoView({ behavior: 'smooth', block: 'start' });
        } else {
          window.scrollTo({ top: 0, behavior: 'smooth' });
          loadCommunityPosts();
        }
      }

      document.querySelectorAll('.main-nav .nav-link').forEach((el) => {
        el.addEventListener('click', (e) => {
          e.preventDefault();
          setMainView(el.dataset.view);
        });
      });

      async function loadCommunityPosts() {
        const tbody = document.getElementById('communityPostsBody');
        const countEl = document.getElementById('communityCount');
        if (!tbody) return;
        try {
          const res = await fetch('https://board.stewrobot.com/api/posts', { mode: 'cors' });
          if (!res.ok) throw new Error('failed');
          const posts = await res.json();
          const list = Array.isArray(posts) ? posts.slice(0, 12) : [];
          if (countEl) countEl.textContent = String(Array.isArray(posts) ? posts.length : list.length);
          if (!list.length) {
            tbody.innerHTML = `<tr><td colspan="5">${(i18n[document.documentElement.lang]||i18n.en).board_empty || 'No posts yet.'}</td></tr>`;
            return;
          }

          const detailed = await Promise.all(list.map(async (p) => {
            try {
              const r = await fetch(`https://board.stewrobot.com/api/posts/${p.id}`, { mode: 'cors' });
              if (!r.ok) return { ...p, commentsCount: 0 };
              const full = await r.json();
              const commentsCount = Array.isArray(full.comments) ? full.comments.length : 0;
              return { ...p, commentsCount };
            } catch (_e) {
              return { ...p, commentsCount: 0 };
            }
          }));

          tbody.innerHTML = detailed.map((p) => {
            const d = new Date(p.createdAt || Date.now());
            const ds = d.toLocaleString();
            const title = String(p.title || '').replace(/</g,'&lt;');
            return `<tr>
              <td>#${p.id}</td>
              <td><a class="row-link" href="#" data-post-id="${p.id}">${title}</a></td>
              <td>${p.author || 'anonymous'}</td>
              <td>${ds}</td>
              <td><span class="comment-badge">${p.commentsCount || 0}</span></td>
            </tr>`;
          }).join('');

          document.querySelectorAll('.row-link').forEach((a) => {
            a.addEventListener('click', async (e) => {
              e.preventDefault();
              await openCommunityDetail(a.dataset.postId);
            });
          });
        } catch (_e) {
          if (countEl) countEl.textContent = '-';
          tbody.innerHTML = `<tr><td colspan="5">Unable to load embedded list. Use Open community board.</td></tr>`;
        }
      }

      function showCommunityList() {
        document.getElementById('communityListWrap').style.display = '';
        document.getElementById('communityWritePanel').classList.add('hidden');
        document.getElementById('communityDetailPanel').classList.add('hidden');
      }

      function showCommunityWrite() {
        document.getElementById('communityListWrap').style.display = '';
        document.getElementById('communityWritePanel').classList.remove('hidden');
        document.getElementById('communityDetailPanel').classList.add('hidden');
        document.getElementById('communityWritePanel').scrollIntoView({ behavior: 'smooth', block: 'start' });
      }

      async function openCommunityDetail(postId) {
        const r = await fetch(`https://board.stewrobot.com/api/posts/${postId}`, { mode: 'cors' });
        if (!r.ok) return;
        const post = await r.json();
        const panel = document.getElementById('communityDetailPanel');
        document.getElementById('communityListWrap').style.display = 'none';
        document.getElementById('communityWritePanel').classList.add('hidden');
        panel.classList.remove('hidden');
        document.getElementById('communityDetailTitle').textContent = post.title || 'Untitled';
        document.getElementById('communityDetailMeta').textContent = `${post.author || 'anonymous'} Â· ${new Date(post.createdAt || Date.now()).toLocaleString()}`;
        document.getElementById('communityDetailContent').textContent = post.content || '';
        const comments = Array.isArray(post.comments) ? post.comments : [];
        const cEl = document.getElementById('communityDetailComments');
        cEl.innerHTML = comments.length
          ? comments.map((c) => `<div class="comment-mini"><strong>${c.author || 'anonymous'}</strong> Â· ${new Date(c.createdAt || Date.now()).toLocaleString()}<p>${String(c.content || '').replace(/</g,'&lt;')}</p></div>`).join('')
          : '<p class="muted small">No comments yet.</p>';
        panel.scrollIntoView({ behavior: 'smooth', block: 'start' });
      }

      document.getElementById('communityWriteBtn')?.addEventListener('click', showCommunityWrite);
      document.getElementById('communityWriteCancel')?.addEventListener('click', showCommunityList);
      document.getElementById('communityBackToList')?.addEventListener('click', () => {
        showCommunityList();
        loadCommunityPosts();
      });

      document.getElementById('communityWriteForm')?.addEventListener('submit', async (e) => {
        e.preventDefault();
        const fd = new FormData(e.currentTarget);
        const payload = Object.fromEntries(fd.entries());
        const r = await fetch('https://board.stewrobot.com/api/posts', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(payload),
        });
        if (!r.ok) {
          alert('Failed to create post. Check fields/password (min 4).');
          return;
        }
        e.currentTarget.reset();
        showCommunityList();
        loadCommunityPosts();
      });

      const brandTopLink = document.getElementById('brandTopLink');
      brandTopLink.addEventListener('click', (e) => {
        e.preventDefault();
        history.replaceState(null, '', window.location.pathname + window.location.search);
        document.querySelectorAll('.home-section').forEach((el) => { el.style.display = ''; });
        document.querySelectorAll('.page-section').forEach((el) => { el.style.display = 'none'; });
        window.scrollTo({ top: 0, behavior: 'smooth' });
        document.querySelectorAll('.main-nav .nav-link').forEach((el) => {
          el.classList.toggle('active', el.dataset.view === 'overview');
        });
      });

      const savedTheme = localStorage.getItem('stewrobot_theme');
      applyTheme(savedTheme || 'cosmic');

      const savedLang = localStorage.getItem('stewrobot_lang');
      applyLang(savedLang && i18n[savedLang] ? savedLang : 'en');

      window.scrollTo({ top: 0, behavior: 'smooth' });
        document.querySelectorAll('.main-nav .nav-link').forEach((el) => {
          el.classList.toggle('active', el.dataset.view === 'overview');
        });
    </script>
  </body>
</html>
